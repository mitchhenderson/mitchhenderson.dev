{
  "hash": "21d81f3b17a6e260ca2778d022315eeb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"How many wins do NRL teams need to make the finals?\"\ndescription: |\n  It depends, but Monte Carlo simulations give us a pretty good idea\nauthor: Mitch Henderson\ndate: 2025-01-27\nthumbnailImage: /img/nrl_finals_probs.png\ndraft: false\nformat: \n  html: \n    code-fold: true\n    code-tools: true\n    html-table-processing: none\nknitr:\n    opts_chunk: \n      dev: \"ragg_png\"\n---\n\n\n\n### *tl;dr:* Probably 13.\n\n<br>\n\nSounds like a simple problem, but it isn't.\n\nIt's pretty common for sports teams to set a goal at the start of a season to make the finals/playoffs . Teams in the NRL[^1] are no different. The flaw in this goal is that the number of wins needed to qualify for the finals varies from season-to-season depending on the results of other teams. A 12-win season (from 24 games) is enough to qualify some years, but not enough in others.\n\n[^1]: National Rugby League\n\nSo how many wins do teams need to be confident they'll qualify?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Setup\nlibrary(tidyverse)\nlibrary(furrr)\nlibrary(parallel)\nlibrary(igraph)\nlibrary(ggdist)\nlibrary(data.table)\nlibrary(ggtext)\nlibrary(gganimate)\nlibrary(gt)\nlibrary(gtExtras)\n\ncolours <- c(\"#E31937\", \"#134A8E\")\nsocials <- mitchhenderson::social_caption(icon_colour = \"dodgerblue\")\nmitchhenderson::font_hoist(\"Myriad Pro\")\n\ntheme_set(theme_minimal() +\n            theme(text = element_text(family = \"Myriad Pro Regular\"),\n                  plot.caption = element_markdown(),\n                  plot.title = element_markdown(family = \"Myriad Pro Bold Condensed\", \n                                                size = 18),\n                  plot.subtitle = element_markdown(family = \"Myriad Pro Regular\"),\n                  plot.title.position = \"plot\",\n                  panel.grid.minor = element_blank()))\n```\n:::\n\n\n\nTo work it out, I scraped 10 seasons of match result data from Wikipedia (2014-2024 excluding the shortened 2020 season) and saved the results in a file.\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\n# Import match results for 10 seasons (up to 2024)\nimport <- read_csv(\"https://raw.githubusercontent.com/mitchhenderson/mitchhenderson.dev/refs/heads/main/posts/2025-01-18-how-many-wins-do-nrl-teams-need-to-make-the-finals/2014-2024_nrl_match_results.csv\")\n```\n:::\n\n\n\nThe first 10 rows look like this:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nimport |>\n  slice_head(n = 10) |>\n  gt() |>\n  gt_theme_538(quiet = TRUE)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"msiykvjejp\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Cairo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#msiykvjejp table {\n  font-family: Cairo, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#msiykvjejp thead, #msiykvjejp tbody, #msiykvjejp tfoot, #msiykvjejp tr, #msiykvjejp td, #msiykvjejp th {\n  border-style: none;\n}\n\n#msiykvjejp p {\n  margin: 0;\n  padding: 0;\n}\n\n#msiykvjejp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: 400;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: none;\n  border-top-width: 3px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#msiykvjejp .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#msiykvjejp .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#msiykvjejp .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#msiykvjejp .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#msiykvjejp .gt_bottom_border {\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#msiykvjejp .gt_col_headings {\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#msiykvjejp .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#msiykvjejp .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#msiykvjejp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#msiykvjejp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#msiykvjejp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#msiykvjejp .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#msiykvjejp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#msiykvjejp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  vertical-align: middle;\n}\n\n#msiykvjejp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#msiykvjejp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#msiykvjejp .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#msiykvjejp .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 0px;\n  border-right-color: #FFFFFF;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#msiykvjejp .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#msiykvjejp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#msiykvjejp .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#msiykvjejp .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#msiykvjejp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#msiykvjejp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#msiykvjejp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#msiykvjejp .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#msiykvjejp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#msiykvjejp .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#msiykvjejp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#msiykvjejp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#msiykvjejp .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#msiykvjejp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#msiykvjejp .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#msiykvjejp .gt_sourcenote {\n  font-size: 12px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#msiykvjejp .gt_left {\n  text-align: left;\n}\n\n#msiykvjejp .gt_center {\n  text-align: center;\n}\n\n#msiykvjejp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#msiykvjejp .gt_font_normal {\n  font-weight: normal;\n}\n\n#msiykvjejp .gt_font_bold {\n  font-weight: bold;\n}\n\n#msiykvjejp .gt_font_italic {\n  font-style: italic;\n}\n\n#msiykvjejp .gt_super {\n  font-size: 65%;\n}\n\n#msiykvjejp .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#msiykvjejp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#msiykvjejp .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#msiykvjejp .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#msiykvjejp .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#msiykvjejp .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#msiykvjejp .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#msiykvjejp .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#msiykvjejp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n\n#msiykvjejp tbody tr:last-child {\n  border-bottom: 2px solid #ffffff00;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"home\">home</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"home_score\">home_score</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"away_score\">away_score</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"away\">away</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"day_and_time\">day_and_time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"venue\">venue</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"season\">season</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">South Sydney Rabbitohs</td>\n<td headers=\"home_score\" class=\"gt_row gt_right\">28</td>\n<td headers=\"away_score\" class=\"gt_row gt_right\">8</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Sydney Roosters</td>\n<td headers=\"day_and_time\" class=\"gt_row gt_left\">6 March 2014, 8:05 pm</td>\n<td headers=\"venue\" class=\"gt_row gt_left\">ANZ Stadium, Sydney</td>\n<td headers=\"season\" class=\"gt_row gt_right\">2014</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Canterbury Bankstown Bulldogs</td>\n<td headers=\"home_score\" class=\"gt_row gt_right\">12</td>\n<td headers=\"away_score\" class=\"gt_row gt_right\">18</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Brisbane Broncos</td>\n<td headers=\"day_and_time\" class=\"gt_row gt_left\">7 March 2014, 8:05 pm</td>\n<td headers=\"venue\" class=\"gt_row gt_left\">ANZ Stadium, Sydney</td>\n<td headers=\"season\" class=\"gt_row gt_right\">2014</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Penrith Panthers</td>\n<td headers=\"home_score\" class=\"gt_row gt_right\">30</td>\n<td headers=\"away_score\" class=\"gt_row gt_right\">8</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Newcastle Knights</td>\n<td headers=\"day_and_time\" class=\"gt_row gt_left\">8 March 2014, 4:30 pm</td>\n<td headers=\"venue\" class=\"gt_row gt_left\">Sportingbet Stadium</td>\n<td headers=\"season\" class=\"gt_row gt_right\">2014</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Manly Warringah Sea Eagles</td>\n<td headers=\"home_score\" class=\"gt_row gt_right\">22</td>\n<td headers=\"away_score\" class=\"gt_row gt_right\">23</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Melbourne Storm</td>\n<td headers=\"day_and_time\" class=\"gt_row gt_left\">8 March 2014, 7:00 pm</td>\n<td headers=\"venue\" class=\"gt_row gt_left\">Brookvale Oval</td>\n<td headers=\"season\" class=\"gt_row gt_right\">2014</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">North Queensland Cowboys</td>\n<td headers=\"home_score\" class=\"gt_row gt_right\">28</td>\n<td headers=\"away_score\" class=\"gt_row gt_right\">22</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Canberra Raiders</td>\n<td headers=\"day_and_time\" class=\"gt_row gt_left\">8 March 2014, 8:00 pm</td>\n<td headers=\"venue\" class=\"gt_row gt_left\">1300SMILES Stadium</td>\n<td headers=\"season\" class=\"gt_row gt_right\">2014</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">St George Illawarra Dragons</td>\n<td headers=\"home_score\" class=\"gt_row gt_right\">44</td>\n<td headers=\"away_score\" class=\"gt_row gt_right\">24</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Wests Tigers</td>\n<td headers=\"day_and_time\" class=\"gt_row gt_left\">9 March 2014, 3:00 pm</td>\n<td headers=\"venue\" class=\"gt_row gt_left\">ANZ Stadium, Sydney</td>\n<td headers=\"season\" class=\"gt_row gt_right\">2014</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Parramatta Eels</td>\n<td headers=\"home_score\" class=\"gt_row gt_right\">36</td>\n<td headers=\"away_score\" class=\"gt_row gt_right\">16</td>\n<td headers=\"away\" class=\"gt_row gt_left\">New Zealand Warriors</td>\n<td headers=\"day_and_time\" class=\"gt_row gt_left\">9 March 2014, 3:00 pm</td>\n<td headers=\"venue\" class=\"gt_row gt_left\">Pirtek Stadium</td>\n<td headers=\"season\" class=\"gt_row gt_right\">2014</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Cronulla Sutherland Sharks</td>\n<td headers=\"home_score\" class=\"gt_row gt_right\">12</td>\n<td headers=\"away_score\" class=\"gt_row gt_right\">18</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Gold Coast Titans</td>\n<td headers=\"day_and_time\" class=\"gt_row gt_left\">10 March 2014, 7:00 pm</td>\n<td headers=\"venue\" class=\"gt_row gt_left\">Remondis Stadium</td>\n<td headers=\"season\" class=\"gt_row gt_right\">2014</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Manly Warringah Sea Eagles</td>\n<td headers=\"home_score\" class=\"gt_row gt_right\">14</td>\n<td headers=\"away_score\" class=\"gt_row gt_right\">12</td>\n<td headers=\"away\" class=\"gt_row gt_left\">South Sydney Rabbitohs</td>\n<td headers=\"day_and_time\" class=\"gt_row gt_left\">14 March 2014, 7:40 pm</td>\n<td headers=\"venue\" class=\"gt_row gt_left\">Bluetongue Stadium</td>\n<td headers=\"season\" class=\"gt_row gt_right\">2014</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Brisbane Broncos</td>\n<td headers=\"home_score\" class=\"gt_row gt_right\">16</td>\n<td headers=\"away_score\" class=\"gt_row gt_right\">12</td>\n<td headers=\"away\" class=\"gt_row gt_left\">North Queensland Cowboys</td>\n<td headers=\"day_and_time\" class=\"gt_row gt_left\">14 March 2014, 7:40 pm</td>\n<td headers=\"venue\" class=\"gt_row gt_left\">Suncorp Stadium</td>\n<td headers=\"season\" class=\"gt_row gt_right\">2014</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n<br>\n\n### Historical distribution of wins\n\nI calculated the points differential for each game and created binary (0 or 1) indicator columns for the winning/losing team and draws. I could then use this match level data to calculate the competition ladder at the end of the season for each year in the data set. The table below shows only 2014, but the final table has been calculated for all available seasons.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- import |>\n  mutate(points_differential = home_score - away_score,\n         home_win = if_else(points_differential > 0, 1, 0),\n         away_win = if_else(points_differential < 0, 1, 0),\n         draw = if_else(points_differential == 0, 1, 0))\n\n# Calculate final competition ladder for each season -------------------\n\ncompetition_table <- function(df){\n  df <- df |>\n    summarise(home_wins = sum(home_win),\n              home_for_and_against = sum(points_differential),\n              .by = c(season, home)) |>\n    left_join(df |> \n                summarise(away_wins = sum(away_win),\n                          away_for_and_against = sum(points_differential) * -1,\n                          .by = c(season, away)),\n              by = join_by(season, home == away)) |>\n    left_join(df |> \n                summarise(draw = sum(draw), \n                          .by = c(season, home)),\n              by = join_by(season, home)) |>\n    mutate(total_wins = home_wins + away_wins + draw * 0.5,\n           for_and_against = home_for_and_against + away_for_and_against) |>\n    select(season, team = home, total_wins, for_and_against) |>\n    arrange(season, -total_wins, -for_and_against) |>\n    mutate(regular_season_position = row_number(),\n           made_finals = if_else(regular_season_position <= 8, 1, 0),\n           .by = season)\n}\n\nobserved_summary_results <- competition_table(data)\n\nobserved_summary_results |>\n  slice_head(n = 16) |>\n  gt() |>\n  gt_theme_538(quiet = TRUE)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"bslsitehyt\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Cairo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#bslsitehyt table {\n  font-family: Cairo, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#bslsitehyt thead, #bslsitehyt tbody, #bslsitehyt tfoot, #bslsitehyt tr, #bslsitehyt td, #bslsitehyt th {\n  border-style: none;\n}\n\n#bslsitehyt p {\n  margin: 0;\n  padding: 0;\n}\n\n#bslsitehyt .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: 400;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: none;\n  border-top-width: 3px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#bslsitehyt .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#bslsitehyt .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#bslsitehyt .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#bslsitehyt .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bslsitehyt .gt_bottom_border {\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bslsitehyt .gt_col_headings {\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bslsitehyt .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#bslsitehyt .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#bslsitehyt .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#bslsitehyt .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#bslsitehyt .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#bslsitehyt .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#bslsitehyt .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#bslsitehyt .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  vertical-align: middle;\n}\n\n#bslsitehyt .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#bslsitehyt .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#bslsitehyt .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#bslsitehyt .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 0px;\n  border-right-color: #FFFFFF;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bslsitehyt .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#bslsitehyt .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#bslsitehyt .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#bslsitehyt .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bslsitehyt .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#bslsitehyt .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#bslsitehyt .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bslsitehyt .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bslsitehyt .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#bslsitehyt .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bslsitehyt .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#bslsitehyt .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bslsitehyt .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bslsitehyt .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bslsitehyt .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bslsitehyt .gt_sourcenote {\n  font-size: 12px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bslsitehyt .gt_left {\n  text-align: left;\n}\n\n#bslsitehyt .gt_center {\n  text-align: center;\n}\n\n#bslsitehyt .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#bslsitehyt .gt_font_normal {\n  font-weight: normal;\n}\n\n#bslsitehyt .gt_font_bold {\n  font-weight: bold;\n}\n\n#bslsitehyt .gt_font_italic {\n  font-style: italic;\n}\n\n#bslsitehyt .gt_super {\n  font-size: 65%;\n}\n\n#bslsitehyt .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#bslsitehyt .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#bslsitehyt .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#bslsitehyt .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#bslsitehyt .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#bslsitehyt .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#bslsitehyt .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#bslsitehyt .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#bslsitehyt div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n\n#bslsitehyt tbody tr:last-child {\n  border-bottom: 2px solid #ffffff00;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"season\">season</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"team\">team</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"total_wins\">total_wins</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"for_and_against\">for_and_against</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"regular_season_position\">regular_season_position</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"made_finals\">made_finals</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Sydney Roosters</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">16</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">230</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">1</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Manly Warringah Sea Eagles</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">16</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">103</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">2</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">South Sydney Rabbitohs</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">15</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">224</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">3</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Penrith Panthers</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">15</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">80</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">4</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">North Queensland Cowboys</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">14</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">190</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">5</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Melbourne Storm</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">14</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">76</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">6</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Canterbury Bankstown Bulldogs</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">13</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">7</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">7</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Brisbane Broncos</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">12</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">93</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">8</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">New Zealand Warriors</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">12</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">80</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">9</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Parramatta Eels</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">12</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-103</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">10</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">St George Illawarra Dragons</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">11</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-59</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">11</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Newcastle Knights</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">10</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-108</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">12</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Wests Tigers</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">10</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-211</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">13</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Gold Coast Titans</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">9</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-166</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">14</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Canberra Raiders</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">8</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-157</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">15</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2014</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Cronulla Sutherland Sharks</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">5</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-279</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">16</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n<br>\n\nAll 10 seasons can then be visualised together as a dot plot. Notice how one team won 10 games one season and made the finals (blue circle at the top of the 10 wins column) and another team won 13 games in a different season but didn't qualify (red circle at the bottom of the 13 wins column).\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nobserved_summary_results |>\n  mutate(made_finals = factor(made_finals)) |>\n  arrange(made_finals) |>\n  ggplot(aes(x = total_wins, fill = made_finals, colour = made_finals)) +\n  geom_dotsinterval(group = NA,\n                    binwidth = 0.5,\n                    overflow = \"compress\") +\n  annotate(\"segment\", \n           x = 1.5, \n           xend = 1.5, \n           y = 0.075, \n           yend = 0.5,\n           linewidth = 0.2,\n           colour = \"grey60\") +\n  geom_richtext(data = tibble(y = 0.5, \n                              x = 1.5,\n                              label = glue::glue(\"<span style=\\\"font-family:'Myriad Pro Bold'; \\\">2016 Newcastle Knights</span><br>1 win, 1 draw\")),\n                aes(x, y, label = label),\n                family = \"Myriad Pro Regular\",\n                hjust = 0, \n                vjust = 1, \n                fill = NA, \n                label.color = NA, \n                size = 2.5, \n                colour = \"grey40\") +\n  annotate(\"segment\", \n           x = 21, \n           xend = 21, \n           y = 0.135, \n           yend = 0.5,\n           linewidth = 0.2,\n           colour = \"grey60\") +\n  geom_richtext(data = tibble(y = 0.5, \n                              x = 21,\n                              label = glue::glue(\"<span style=\\\"font-family:'Myriad Pro Bold'; \\\">2021 Melbourne<br>Storm & Penrith<br>Panthers</span><br>Both with 21 wins\")),\n                aes(x, y, label = label),\n                family = \"Myriad Pro Regular\",\n                hjust = 0, \n                vjust = 1, \n                fill = NA, \n                label.color = NA, \n                size = 2.5, \n                colour = \"grey40\") +\n  labs(x = \"Matches won\",\n       title = \"**NRL teams have needed as low as 10 and as high as 14 wins to make<br>the finals over the last 10 years**\",\n       subtitle = glue::glue(\"Each circle is one team's season that either <span style='color: {colours[1]}; font-size:11pt; font-family:Myriad Pro'>**didn't make the finals**</span> or <span style='color: {colours[2]}; font-size:11pt; font-family:Myriad Pro'>**made the finals**</span>.<br>Teams with the same number of wins are stacked on top of each other.\"),\n       caption = socials) +\n  scale_x_continuous(limits = c(1.5, 23.5),\n                     breaks = seq(1, 24, 1)) +\n  scale_y_continuous(limits = c(0, 1),\n                     expand = expansion(mult = c(0, 0.05))) +\n  scale_fill_manual(values = colours) +\n  scale_colour_manual(values = colours) +\n  theme(legend.position = \"none\",\n        axis.line.x = element_line(colour = \"grey20\"),\n        axis.title.y = element_blank(),\n        axis.text.y = element_blank(),\n        axis.ticks = element_blank(),\n        panel.grid = element_blank())\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n\nThere are a few ways to approach calculating the probability of making the finals based on a given number of wins. Doing this requires a mindset shift from thinking only about the outcome of a single event (qualify for finals vs not) to considering the expected frequency of an outcome occurring over a large number of events involving uncertainty and randomness.\n\n### Analytically specify the probability\n\nIf this is possible, god knows I don't know how to do it. Given the complexity of the competition structure with all its dependencies and constraints, specifying the true mathematical probability would be an extremely high-dimensional optimisation problem. Even if it is possible, it would require a very sophisticated and computationally intensive solution.[^2]\n\n[^2]: If anyone knows if / how this can be done, let me know!\n\n### Simply calculate the proportion of teams that qualified for each number of wins the data set\n\nThis isn't a good idea. With 17 teams and each of them playing 24 games in a season, the number of ways a season could play out to determine the final competition ladder is astronomically large. We only have 10 seasons of data; a tiny fraction of all the possible combinations of win-loss records and finals standings to use in our calculation. The true probability of making the finals can't be estimated with acceptable accuracy based on such a small sample of data. To demonstrate, the data we have shows no teams with 11 wins qualifying for the finals (from 8 times this has occurred). Does that mean the probability of qualifying is 0%? No. This is just noise (i.e., random variability) that we happen to have observed in our sample. Evidence of this is a team that only won 10 games qualified for the finals in a different season.\n\n### Fitting a linear model to the data\n\nThis also isn't a good idea. On the surface, a logistic regression model sounds okay as we're trying to estimate the probability of a binary outcome (making the finals or not), but the assumptions baked into these models aren't a great fit for this problem. Statistical models need to make assumptions so the complexity of the world can be simplified into something quantifiable and useful. In the case of generalised linear models like logistic regression, one of those assumptions is a linear relationship between the predictors and the transformed outcome. This is often useful because as it allows a smooth curve to be fit through the data, but it breaks down here without awareness of the fundamental competition constraints (e.g., for one team to win, the other has to lose). This means that they can (and do in this case) predict impossible scenarios like making the finals with a win-loss record that is mathematically impossible for them to qualify.\n\n### Monte Carlo simulation\n\nThese are a class of methods that basically use randomness to solve problems. They allow us to skip most of the hard maths and use computer simulations to get practically the same answers that could have very painfully been calculated analytically anyway. The idea is that we define a data generating process that mimics the way that data is generated in the real world, and then let the power of computers generate a huge amount of data. This lets us explore tens or hundreds of thousand (or more) possible season outcomes to give us a fuller picture of the probability of making the finals for each win-loss record. This is especially important for edge cases and unusual season results that are unlikely to have occurred in a small sample of historical data like ours. The beauty is that we can build in all the dependencies and constraints of the competition structure so we know the simulated data generated will adhere to it. It'll capture the non-linear and threshold effects that exist as a result of the competition format. With enough simulated seasons, we can simply count the proportion of teams that qualify for a given number of wins to estimate the probability. The [law of large numbers](https://www.statology.org/law-of-large-numbers/) tells us this converges to the true probability.\n\n#### Simulating a season draw\n\nTo begin defining the data generating process, we need a way to randomly generate a season draw. *This was tricky*. 17 teams need to play 24 matches against other teams, 12 home and 12 away, where you play 8 teams twice and the other 8 teams only once (and of course accounting for the dependencies of head-to-head matches so one team's schedule can't be considered in isolation). I found a way to do it using network graph theory.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Define vector of team names\nteams <- unique(data$home)\n\n# Create random graph with 17 nodes (teams) \n# Connect each node to 12 other nodes for home games and another 12 for away games\n# Convert to tibble and add team names\nsimulate_season_draw <- function(){\n   graph <- sample_degseq(rep(12, length(teams)),\n                rep(12, length(teams)),\n                method = \"simple.no.multiple\")\n   \n    edges <- as_edgelist(graph)\n    \n    tibble(\n      home = teams[edges[, 1]],\n      away = teams[edges[, 2]]\n    )\n}\n```\n:::\n\n\n\nThe output is one randomly simulated season draw. Here is 10 random match-ups from a simulated draw.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsimulate_season_draw() |>\n  slice_sample(n = 10) |>\n  gt() |>\n  gt_theme_538(quiet = TRUE)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"glocyppszr\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Cairo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#glocyppszr table {\n  font-family: Cairo, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#glocyppszr thead, #glocyppszr tbody, #glocyppszr tfoot, #glocyppszr tr, #glocyppszr td, #glocyppszr th {\n  border-style: none;\n}\n\n#glocyppszr p {\n  margin: 0;\n  padding: 0;\n}\n\n#glocyppszr .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: 400;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: none;\n  border-top-width: 3px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#glocyppszr .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#glocyppszr .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#glocyppszr .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#glocyppszr .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#glocyppszr .gt_bottom_border {\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#glocyppszr .gt_col_headings {\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#glocyppszr .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#glocyppszr .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#glocyppszr .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#glocyppszr .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#glocyppszr .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#glocyppszr .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#glocyppszr .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#glocyppszr .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  vertical-align: middle;\n}\n\n#glocyppszr .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#glocyppszr .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#glocyppszr .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#glocyppszr .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 0px;\n  border-right-color: #FFFFFF;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#glocyppszr .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#glocyppszr .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#glocyppszr .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#glocyppszr .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#glocyppszr .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#glocyppszr .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#glocyppszr .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#glocyppszr .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#glocyppszr .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#glocyppszr .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#glocyppszr .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#glocyppszr .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#glocyppszr .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#glocyppszr .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#glocyppszr .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#glocyppszr .gt_sourcenote {\n  font-size: 12px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#glocyppszr .gt_left {\n  text-align: left;\n}\n\n#glocyppszr .gt_center {\n  text-align: center;\n}\n\n#glocyppszr .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#glocyppszr .gt_font_normal {\n  font-weight: normal;\n}\n\n#glocyppszr .gt_font_bold {\n  font-weight: bold;\n}\n\n#glocyppszr .gt_font_italic {\n  font-style: italic;\n}\n\n#glocyppszr .gt_super {\n  font-size: 65%;\n}\n\n#glocyppszr .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#glocyppszr .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#glocyppszr .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#glocyppszr .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#glocyppszr .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#glocyppszr .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#glocyppszr .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#glocyppszr .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#glocyppszr div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n\n#glocyppszr tbody tr:last-child {\n  border-bottom: 2px solid #ffffff00;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"home\">home</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"away\">away</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">North Queensland Cowboys</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Manly Warringah Sea Eagles</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Newcastle Knights</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Gold Coast Titans</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">New Zealand Warriors</td>\n<td headers=\"away\" class=\"gt_row gt_left\">St George Illawarra Dragons</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Newcastle Knights</td>\n<td headers=\"away\" class=\"gt_row gt_left\">St George Illawarra Dragons</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Cronulla Sutherland Sharks</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Canterbury Bankstown Bulldogs</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Wests Tigers</td>\n<td headers=\"away\" class=\"gt_row gt_left\">South Sydney Rabbitohs</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">North Queensland Cowboys</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Wests Tigers</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Parramatta Eels</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Brisbane Broncos</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Newcastle Knights</td>\n<td headers=\"away\" class=\"gt_row gt_left\">South Sydney Rabbitohs</td></tr>\n    <tr><td headers=\"home\" class=\"gt_row gt_left\">Gold Coast Titans</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Brisbane Broncos</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n<br>\n\n#### Populate fixtures with results\n\nNow we need results for these games. To do this we need to make an assumption about how we can realistically generate random results for matches between these teams. The points differential between teams in a match determines who wins and loses, so we need to mimic the way points differentials are distributed in real NRL games. This is how they're distributed in the 2014-2024 data set we have.\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naverage_10yr_points_diff <- data |>\n  pull(points_differential) |> \n  mean()\n\ndata |>\n  ggplot(aes(x = points_differential)) +\n  geom_histogram(binwidth = 1, colour = \"white\", fill = colours[2]) +\n  labs(y = \"Number of games\", x = \"Points differential\",\n       title = \"**Most games end with an even  points differential**\",\n       subtitle = \"This makes sense given tries (4) and goals (2) are by far the most common ways to score points\",\n       caption = socials) +\n  scale_y_continuous(expand = expansion(mult = c(0, 0.05)),\n                     breaks = seq(0, 100, 25)) +\n  annotate(\"segment\", \n           y = 0, \n           yend = 110, \n           x = average_10yr_points_diff, \n           xend = average_10yr_points_diff, \n           linetype = \"dashed\",\n           linewidth = 0.4,\n           colour = \"grey50\") +\n  geom_richtext(data = tibble(y = 102, \n                              x = average_10yr_points_diff,\n                              label = glue::glue(\"<span style='font-family:Myriad Pro Regular'>**+{scales::number(average_10yr_points_diff, accuracy = 0.1)} points**<br>Home team advantage over past 10 years<br>(i.e. average points differential)</span>\")),\n                aes(x, y, label = label),\n                family = \"Myriad Pro\",\n                hjust = 0, \n                fill = NA, \n                label.color = NA, \n                size = 3, \n                colour = \"grey40\") +\n  geom_richtext(data = tibble(y = 61, \n                              x = 45,\n                              label = glue::glue(\"Home team<br>win\")),\n                aes(x, y, label = label),\n                family = \"Myriad Pro\",\n                hjust = 0.5, \n                fill = NA, \n                label.color = NA, \n                size = 6, \n                colour = \"grey60\") +\n  geom_richtext(data = tibble(y = 61, \n                              x = -45,\n                              label = glue::glue(\"Away team<br>win\")),\n                aes(x, y, label = label),\n                family = \"Myriad Pro\",\n                hjust = 0.5, \n                fill = NA, \n                label.color = NA, \n                size = 6, \n                colour = \"grey60\") +\n  theme(panel.grid.major.x = element_blank(),\n        axis.line.x = element_line(colour = \"grey20\"))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n\nThis is an *interesting* distribution. The points differentials on even numbers are **far** more frequently observed than odd numbered differentials. This is an influence of competition constraints. Tries (4) and goals (2) are far more common than field goals (1), so it's expected that even numbered point differences are more likely to occur. Out of interest, I also added the average points differential across the data set as an annotation in the visual (+2.4). This is the expected advantage of playing at home over the last \\~10 years.\n\n#### Accounting for team quality\n\nBecause this distribution is so unique, I'll randomly sample directly from it to populate the match results in my simulated seasons (instead of sampling from a theoretical distribution). I don't want to sample completely at random though, because the teams are not of equal quality. I want the better teams to have a higher probability of winning against the worse teams, weighted by how much better / worse they are. To do this, we need a measure of each team's strength. There are many ways to approach this, but for simplicity I'll just use the Sportsbet odds for winning the 2025 competition.\n\nThe bookmaker odds are converted to an implied probability of winning the competition. This will be my measure of relative team quality.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Sportsbet odds for to win 2025 GF\n# Collected on 21st Jan 2025\nsportsbet_odds <- tibble::tribble(\n                                              ~team, ~sportsbet_odds,\n                                 \"Brisbane Broncos\",             8.5,\n                                 \"Canberra Raiders\",              67,\n                    \"Canterbury Bankstown Bulldogs\",              17,\n                       \"Cronulla Sutherland Sharks\",              13,\n                                         \"Dolphins\",              61,\n                                \"Gold Coast Titans\",              61,\n                       \"Manly Warringah Sea Eagles\",              16,\n                                  \"Melbourne Storm\",            3.85,\n                             \"New Zealand Warriors\",              51,\n                                \"Newcastle Knights\",              61,\n                         \"North Queensland Cowboys\",              26,\n                                  \"Parramatta Eels\",              41,\n                                 \"Penrith Panthers\",             4.8,\n                           \"South Sydney Rabbitohs\",              18,\n                      \"St George Illawarra Dragons\",              81,\n                                  \"Sydney Roosters\",              20,\n                                     \"Wests Tigers\",              46\n                    )\n\n# Get a team strength measure (based on Sportsbet odds to win premiership)\nodds_to_probabilities <- function(odds) {\n  probabilities <- (1 / odds) / sum(1 / odds)\n}\n\nsportsbet_implied_probabilities <- sportsbet_odds |>\n  mutate(implied_probabilities = odds_to_probabilities(sportsbet_odds)) |>\n  select(-sportsbet_odds)\n\nsportsbet_implied_probabilities  |>\n  arrange(-implied_probabilities) |>\n  gt() |>\n  gt_theme_538(quiet = TRUE) |>\n  fmt_percent(implied_probabilities, decimals = 1)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"aauyuvrfwl\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Cairo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#aauyuvrfwl table {\n  font-family: Cairo, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#aauyuvrfwl thead, #aauyuvrfwl tbody, #aauyuvrfwl tfoot, #aauyuvrfwl tr, #aauyuvrfwl td, #aauyuvrfwl th {\n  border-style: none;\n}\n\n#aauyuvrfwl p {\n  margin: 0;\n  padding: 0;\n}\n\n#aauyuvrfwl .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: 400;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: none;\n  border-top-width: 3px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#aauyuvrfwl .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#aauyuvrfwl .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#aauyuvrfwl .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#aauyuvrfwl .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#aauyuvrfwl .gt_bottom_border {\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aauyuvrfwl .gt_col_headings {\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#aauyuvrfwl .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#aauyuvrfwl .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#aauyuvrfwl .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#aauyuvrfwl .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#aauyuvrfwl .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#aauyuvrfwl .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#aauyuvrfwl .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#aauyuvrfwl .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  vertical-align: middle;\n}\n\n#aauyuvrfwl .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#aauyuvrfwl .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#aauyuvrfwl .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#aauyuvrfwl .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 0px;\n  border-right-color: #FFFFFF;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aauyuvrfwl .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#aauyuvrfwl .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#aauyuvrfwl .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#aauyuvrfwl .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aauyuvrfwl .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#aauyuvrfwl .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#aauyuvrfwl .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aauyuvrfwl .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aauyuvrfwl .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#aauyuvrfwl .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aauyuvrfwl .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#aauyuvrfwl .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aauyuvrfwl .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#aauyuvrfwl .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aauyuvrfwl .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#aauyuvrfwl .gt_sourcenote {\n  font-size: 12px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aauyuvrfwl .gt_left {\n  text-align: left;\n}\n\n#aauyuvrfwl .gt_center {\n  text-align: center;\n}\n\n#aauyuvrfwl .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#aauyuvrfwl .gt_font_normal {\n  font-weight: normal;\n}\n\n#aauyuvrfwl .gt_font_bold {\n  font-weight: bold;\n}\n\n#aauyuvrfwl .gt_font_italic {\n  font-style: italic;\n}\n\n#aauyuvrfwl .gt_super {\n  font-size: 65%;\n}\n\n#aauyuvrfwl .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#aauyuvrfwl .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#aauyuvrfwl .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#aauyuvrfwl .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#aauyuvrfwl .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#aauyuvrfwl .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#aauyuvrfwl .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#aauyuvrfwl .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#aauyuvrfwl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n\n#aauyuvrfwl tbody tr:last-child {\n  border-bottom: 2px solid #ffffff00;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"team\">team</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"implied_probabilities\">implied_probabilities</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Melbourne Storm</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">24.3%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Penrith Panthers</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">19.5%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Brisbane Broncos</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">11.0%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Cronulla Sutherland Sharks</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">7.2%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Manly Warringah Sea Eagles</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">5.8%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Canterbury Bankstown Bulldogs</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">5.5%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">South Sydney Rabbitohs</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">5.2%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Sydney Roosters</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">4.7%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">North Queensland Cowboys</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">3.6%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Parramatta Eels</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">2.3%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Wests Tigers</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">2.0%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">New Zealand Warriors</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">1.8%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Dolphins</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">1.5%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Gold Coast Titans</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">1.5%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Newcastle Knights</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">1.5%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">Canberra Raiders</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">1.4%</td></tr>\n    <tr><td headers=\"team\" class=\"gt_row gt_left\">St George Illawarra Dragons</td>\n<td headers=\"implied_probabilities\" class=\"gt_row gt_right\">1.2%</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n#### Accounting for home field advantage\n\nNext I need to account for home field advantage. Home teams won \\~55.8% of games in the data set (1,084/1,944). If two teams of **equal** quality play, I want to adjust the probability of winning for the home team from 50% (based only on relative team quality) to \\~55.8% so it matches the proportion of home wins observed in the 10 seasons of data. I can do this by searching across all potential home advantage multipliers from 1 (no home advantage) to 2 (playing at home doubles team quality) to find the optimal value that returns \\~55.8% home win probability against equally matched opponents.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nperc_home_win <- mean(data$points_differential > 0)\n\n# We know that for equally matched teams:\n# 1. Without home advantage, each team has 50% chance of winning\n# 2. Historical data shows home teams actually win 55.8% of the time\n# 3. We need a multiplier that turns 50-50 into 55.8-44.2 (assuming no draws)\n\n# Function to calculate win probability for equal teams given a multiplier\ncalc_win_prob <- function(multiplier) {\n  # Both teams start with equal strength\n  home_strength <- 0.5\n  away_strength <- 0.5\n  \n  # Apply multiplier to home team\n  adjusted_home <- home_strength * multiplier\n  \n  # Calculate resulting probability\n  prob <- adjusted_home / (adjusted_home + away_strength)\n  return(prob)\n}\n\n# Function to find multiplier that gives desired win probability\nfind_optimal_multiplier <- function(target_prob) {\n  optimise(function(m) abs(calc_win_prob(m) - target_prob), \n          interval = c(1, 2),  # Search between 1-2x multiplier \n          maximum = FALSE)$minimum\n}\n\n# Find multiplier that produces observed 55.8% home win rate\noptimal_multiplier <- find_optimal_multiplier(perc_home_win)\n```\n:::\n\n\n\nThis method carries some simplifying assumptions. In reality, some teams are pretty likely to benefit more from playing at home than others. That isn't accounted for here (all teams will be given the same home advantage based on historical data). Also the multiplier used to apply the home team advantage was found by optimising for the win rate between two teams of equal quality. This was to best isolate the degree of home advantage without the influence of differences in team quality. The mathematically optimal multiplier will change with each difference in relative team quality (e.g., unequally matched teams).\n\n#### Simulate the match results\n\nNow I can finally define a function that simulates a match. It compares the implied probability of winning the competition after accounting for home field advantage to calculate the home team win probability for the game. A random number is drawn from a uniform distribution (0 to 1) and if this number is less than the home win probability, then the match is assigned as a home win. Once we know whether the home or away team wins, a random sample is drawn from either the positive (home wins) or negative (away wins) observed points differential distribution (i.e., empirical distribution).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Function to simulate a single match\nsimulate_match <- function(home_strength, away_strength, diff_vector) {\n  home_advantage_multiplier <- optimal_multiplier\n  \n  # Apply home advantage to home team's strength\n  adjusted_home_strength <- home_strength * home_advantage_multiplier\n \n  # Calculate win probabilities based on Sportsbet's Grand Final win probabilities\n  home_win_prob <- adjusted_home_strength / (adjusted_home_strength + away_strength)\n  \n  # Compare to uniform distribution to determine if it's a home win or away win\n  is_home_win <- runif(1) < home_win_prob\n  \n  # Sample the differential\n  if (is_home_win) {\n    diff <- sample(diff_vector[diff_vector > 0], 1)\n  } else {\n    diff <- -sample(diff_vector[diff_vector > 0], 1)\n  }\n  \n  return(diff)\n}\n```\n:::\n\n\n\nTo demonstrate, here I generate 15 random points differential results for a game between a home team with a 5% chance of winning the competition and an away team with a 20% chance.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmap2(\n  .x = rep(0.05, 15), \n  .y = rep(0.20, 15), \n  ~simulate_match(.x, .y, data$points_differential)\n  ) |> \n  unlist()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1]  -2  -6  24  -1  -2 -22  30  -2  -6 -28  -6 -32 -20 -16  -8\n```\n\n\n:::\n:::\n\n\n\nNotice how most of the values are negative (meaning the away team won).\n\nThis incorporates the away team being of higher quality (20% chance of winning the competition vs 5%) and the home team benefiting from the home field advantage. The proportion of away team wins over a very large number of simulations gives us an estimated probability of the away team winning this game that approaches the true value.\n\nThere are again some simplifications at play here. Firstly, draws/ties are not considered (or possible) with this data generating process. I think this is fine as only 0.25% of matches in the data set ended in draws (5 from 1,944). Secondly, within home wins or away wins, the sampling of the points differential is completely random. This means that if a home team has been assigned the win, the amount they win by doesn't consider the difference in team quality or home field advantage. The winning amount is completely random within the winning point differentials in the data set. Team strength values and home field advantage only influence who wins. I also don't think this threatens the validity of the results (only for and against values will be affected), but worth mentioning as it is a simplifying assumption that I doubt is true in reality.\n\n#### Simulating many seasons\n\nNow we have a function to simulate a match, we need to use it populate the random season draws with match results. We don't just want one or ten seasons simulated though.\n\n***We want ten thousand.***\n\nThis is where the actual work gets done. To demonstrate what this looks like, I'll pick out a random 10 simulated games with results to display from the 2,040,000 total simulated matches.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nseasons_to_simulate <- 10000\n\n# Set up parallel processing\nplan(multisession, workers = detectCores())\n\n# For reproducibility\nset.seed(2025)\n\n# Simulate full seasons with results\nsimulated_seasons <- tibble(\n  season = 1:seasons_to_simulate,\n  results = future_map(season, ~ simulate_season_draw(),\n                       .options = furrr_options(seed = TRUE))) |>\n  unnest(results) |>\n  left_join(sportsbet_implied_probabilities, by = join_by(home == team)) |>\n  rename(home_implied_probability = implied_probabilities) |>\n  left_join(sportsbet_implied_probabilities, by = join_by(away == team)) |>\n  rename(away_implied_probability = implied_probabilities) |>\n  mutate(\n    points_differential = pmap_dbl(\n      list(home_implied_probability, away_implied_probability),\n      ~ simulate_match(..1, ..2, data$points_differential)\n    ),\n    home_win = if_else(points_differential > 0, 1, 0),\n    away_win = if_else(points_differential < 0, 1, 0),\n    draw = if_else(points_differential == 0, 1, 0)\n  )\n\nsimulated_seasons |>\n  select(-ends_with(\"probability\"), -draw) |>\n  slice_sample(n = 10) |>\n  gt() |>\n  gt_theme_538(quiet = TRUE)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"whedekywck\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Cairo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#whedekywck table {\n  font-family: Cairo, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#whedekywck thead, #whedekywck tbody, #whedekywck tfoot, #whedekywck tr, #whedekywck td, #whedekywck th {\n  border-style: none;\n}\n\n#whedekywck p {\n  margin: 0;\n  padding: 0;\n}\n\n#whedekywck .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: 400;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: none;\n  border-top-width: 3px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#whedekywck .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#whedekywck .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#whedekywck .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#whedekywck .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#whedekywck .gt_bottom_border {\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#whedekywck .gt_col_headings {\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#whedekywck .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#whedekywck .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#whedekywck .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#whedekywck .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#whedekywck .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#whedekywck .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#whedekywck .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#whedekywck .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  vertical-align: middle;\n}\n\n#whedekywck .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#whedekywck .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#whedekywck .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#whedekywck .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 0px;\n  border-right-color: #FFFFFF;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#whedekywck .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#whedekywck .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#whedekywck .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#whedekywck .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#whedekywck .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#whedekywck .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#whedekywck .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#whedekywck .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#whedekywck .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#whedekywck .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#whedekywck .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#whedekywck .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#whedekywck .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#whedekywck .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#whedekywck .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#whedekywck .gt_sourcenote {\n  font-size: 12px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#whedekywck .gt_left {\n  text-align: left;\n}\n\n#whedekywck .gt_center {\n  text-align: center;\n}\n\n#whedekywck .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#whedekywck .gt_font_normal {\n  font-weight: normal;\n}\n\n#whedekywck .gt_font_bold {\n  font-weight: bold;\n}\n\n#whedekywck .gt_font_italic {\n  font-style: italic;\n}\n\n#whedekywck .gt_super {\n  font-size: 65%;\n}\n\n#whedekywck .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#whedekywck .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#whedekywck .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#whedekywck .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#whedekywck .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#whedekywck .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#whedekywck .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#whedekywck .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#whedekywck div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n\n#whedekywck tbody tr:last-child {\n  border-bottom: 2px solid #ffffff00;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"season\">season</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"home\">home</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"away\">away</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"points_differential\">points_differential</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"home_win\">home_win</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"away_win\">away_win</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">5157</td>\n<td headers=\"home\" class=\"gt_row gt_left\">Manly Warringah Sea Eagles</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Wests Tigers</td>\n<td headers=\"points_differential\" class=\"gt_row gt_right\">2</td>\n<td headers=\"home_win\" class=\"gt_row gt_right\">1</td>\n<td headers=\"away_win\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">3965</td>\n<td headers=\"home\" class=\"gt_row gt_left\">Canterbury Bankstown Bulldogs</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Melbourne Storm</td>\n<td headers=\"points_differential\" class=\"gt_row gt_right\">-8</td>\n<td headers=\"home_win\" class=\"gt_row gt_right\">0</td>\n<td headers=\"away_win\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">8531</td>\n<td headers=\"home\" class=\"gt_row gt_left\">Dolphins</td>\n<td headers=\"away\" class=\"gt_row gt_left\">South Sydney Rabbitohs</td>\n<td headers=\"points_differential\" class=\"gt_row gt_right\">30</td>\n<td headers=\"home_win\" class=\"gt_row gt_right\">1</td>\n<td headers=\"away_win\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">1500</td>\n<td headers=\"home\" class=\"gt_row gt_left\">St George Illawarra Dragons</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Canterbury Bankstown Bulldogs</td>\n<td headers=\"points_differential\" class=\"gt_row gt_right\">8</td>\n<td headers=\"home_win\" class=\"gt_row gt_right\">1</td>\n<td headers=\"away_win\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">320</td>\n<td headers=\"home\" class=\"gt_row gt_left\">Melbourne Storm</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Penrith Panthers</td>\n<td headers=\"points_differential\" class=\"gt_row gt_right\">-1</td>\n<td headers=\"home_win\" class=\"gt_row gt_right\">0</td>\n<td headers=\"away_win\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">5767</td>\n<td headers=\"home\" class=\"gt_row gt_left\">St George Illawarra Dragons</td>\n<td headers=\"away\" class=\"gt_row gt_left\">North Queensland Cowboys</td>\n<td headers=\"points_differential\" class=\"gt_row gt_right\">-2</td>\n<td headers=\"home_win\" class=\"gt_row gt_right\">0</td>\n<td headers=\"away_win\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2151</td>\n<td headers=\"home\" class=\"gt_row gt_left\">Penrith Panthers</td>\n<td headers=\"away\" class=\"gt_row gt_left\">St George Illawarra Dragons</td>\n<td headers=\"points_differential\" class=\"gt_row gt_right\">21</td>\n<td headers=\"home_win\" class=\"gt_row gt_right\">1</td>\n<td headers=\"away_win\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">5020</td>\n<td headers=\"home\" class=\"gt_row gt_left\">Penrith Panthers</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Sydney Roosters</td>\n<td headers=\"points_differential\" class=\"gt_row gt_right\">12</td>\n<td headers=\"home_win\" class=\"gt_row gt_right\">1</td>\n<td headers=\"away_win\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">8804</td>\n<td headers=\"home\" class=\"gt_row gt_left\">St George Illawarra Dragons</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Melbourne Storm</td>\n<td headers=\"points_differential\" class=\"gt_row gt_right\">-22</td>\n<td headers=\"home_win\" class=\"gt_row gt_right\">0</td>\n<td headers=\"away_win\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">5136</td>\n<td headers=\"home\" class=\"gt_row gt_left\">New Zealand Warriors</td>\n<td headers=\"away\" class=\"gt_row gt_left\">Dolphins</td>\n<td headers=\"points_differential\" class=\"gt_row gt_right\">-52</td>\n<td headers=\"home_win\" class=\"gt_row gt_right\">0</td>\n<td headers=\"away_win\" class=\"gt_row gt_right\">1</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n<br>\n\nThis takes a minute or two to run because it's generating 10,000 random season draws and then simulating results for all 2,040,000 games.\n\n### Exploring the results\n\nWe can use the function we defined earlier to summarise the match level simulation results into an end-of-season ladder for each of the 10,000 seasons. Here is one of those seasons final standings (for season number 2,534 out of 10,000).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsimulation_summary_results <- competition_table(simulated_seasons)\n\nsimulation_summary_results |>\n  filter(season == 2534) |>\n  gt() |>\n  gt_theme_538(quiet = TRUE)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"aqryhkrtdp\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Cairo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#aqryhkrtdp table {\n  font-family: Cairo, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#aqryhkrtdp thead, #aqryhkrtdp tbody, #aqryhkrtdp tfoot, #aqryhkrtdp tr, #aqryhkrtdp td, #aqryhkrtdp th {\n  border-style: none;\n}\n\n#aqryhkrtdp p {\n  margin: 0;\n  padding: 0;\n}\n\n#aqryhkrtdp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: 400;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: none;\n  border-top-width: 3px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#aqryhkrtdp .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#aqryhkrtdp .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#aqryhkrtdp .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#aqryhkrtdp .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#aqryhkrtdp .gt_bottom_border {\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aqryhkrtdp .gt_col_headings {\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#aqryhkrtdp .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#aqryhkrtdp .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#aqryhkrtdp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#aqryhkrtdp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#aqryhkrtdp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#aqryhkrtdp .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#aqryhkrtdp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#aqryhkrtdp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  vertical-align: middle;\n}\n\n#aqryhkrtdp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#aqryhkrtdp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#aqryhkrtdp .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#aqryhkrtdp .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 0px;\n  border-right-color: #FFFFFF;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aqryhkrtdp .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#aqryhkrtdp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#aqryhkrtdp .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#aqryhkrtdp .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aqryhkrtdp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#aqryhkrtdp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#aqryhkrtdp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aqryhkrtdp .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aqryhkrtdp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#aqryhkrtdp .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aqryhkrtdp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#aqryhkrtdp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#aqryhkrtdp .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#aqryhkrtdp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aqryhkrtdp .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#aqryhkrtdp .gt_sourcenote {\n  font-size: 12px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#aqryhkrtdp .gt_left {\n  text-align: left;\n}\n\n#aqryhkrtdp .gt_center {\n  text-align: center;\n}\n\n#aqryhkrtdp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#aqryhkrtdp .gt_font_normal {\n  font-weight: normal;\n}\n\n#aqryhkrtdp .gt_font_bold {\n  font-weight: bold;\n}\n\n#aqryhkrtdp .gt_font_italic {\n  font-style: italic;\n}\n\n#aqryhkrtdp .gt_super {\n  font-size: 65%;\n}\n\n#aqryhkrtdp .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#aqryhkrtdp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#aqryhkrtdp .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#aqryhkrtdp .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#aqryhkrtdp .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#aqryhkrtdp .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#aqryhkrtdp .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#aqryhkrtdp .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#aqryhkrtdp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n\n#aqryhkrtdp tbody tr:last-child {\n  border-bottom: 2px solid #ffffff00;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"season\">season</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"team\">team</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"total_wins\">total_wins</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"for_and_against\">for_and_against</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"regular_season_position\">regular_season_position</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"made_finals\">made_finals</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Penrith Panthers</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">23</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">245</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">1</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Melbourne Storm</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">20</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">331</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">2</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Brisbane Broncos</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">20</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">185</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">3</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Cronulla Sutherland Sharks</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">17</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">118</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">4</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Canterbury Bankstown Bulldogs</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">16</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">159</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">5</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">South Sydney Rabbitohs</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">14</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">84</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">6</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Manly Warringah Sea Eagles</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">13</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">37</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">7</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Gold Coast Titans</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">12</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">54</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">8</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">North Queensland Cowboys</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">11</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-21</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">9</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">New Zealand Warriors</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">10</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-103</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">10</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Sydney Roosters</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">9</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-96</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">11</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Parramatta Eels</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">8</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-81</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">12</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Wests Tigers</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">8</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-119</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">13</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">St George Illawarra Dragons</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">7</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-184</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">14</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Newcastle Knights</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">6</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-86</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">15</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Canberra Raiders</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">6</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-195</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">16</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"season\" class=\"gt_row gt_right\">2534</td>\n<td headers=\"team\" class=\"gt_row gt_left\">Dolphins</td>\n<td headers=\"total_wins\" class=\"gt_row gt_right\">4</td>\n<td headers=\"for_and_against\" class=\"gt_row gt_right\">-328</td>\n<td headers=\"regular_season_position\" class=\"gt_row gt_right\">17</td>\n<td headers=\"made_finals\" class=\"gt_row gt_right\">0</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n<br>\n\nWhat we're really after though is the proportion of teams that make the finals for each given win total across each of the 10,000 simulated seasons.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate proportions ----------------------------\nprobabilities_simulated <- simulation_summary_results |>\n  summarise(count_made_finals = sum(made_finals),\n            total_count = n(),\n            .by = total_wins) |>\n  mutate(percentage = count_made_finals / total_count) |>\n  arrange(-total_wins)\n\n# Create table --------------------------------------\nprobabilities_simulated |>\n  mutate(perc_no_finals = 1 - percentage,\n         total_wins = glue::glue(\"{total_wins} wins\")) |>\n  pivot_longer(starts_with(\"perc\"), names_to = \"metric\", values_to = \"perc\") |>\n  summarise(\n    total = total_count[1],\n    made_finals = count_made_finals[1],\n    list_data = list(perc),\n    .by = total_wins) |>\n  gt(rowname_col = \"total_wins\") |>\n  gt_theme_538(quiet = TRUE) |>\n  fmt_number(columns = c(\"total\", \"made_finals\"),\n             decimals = 0) |>\n  tab_header(\n    title = html(\"NRL teams need to win 13 games to be confident of playing finals\"),\n    subtitle = \"Finals probabilities based on results from 10,000 simulated seasons\"\n  ) |>\n  tab_source_note(\n    source_note = html(socials)\n  ) |>\n  gt_plt_bar_stack(list_data, width = 70,\n                   labels = c(\"Qualify\", \"Fail to qualify\"),\n                   palette = rev(colours),\n                   font = \"Segoe UI\",\n                   fmt_fn = function(x) {\n                     case_when(\n                       x < 0.03 ~ \"\",\n                       x == 1 ~ \"100%\",\n                       x > 0.999 & x < 1 ~ \">99.9%\",\n                       .default = scales::label_percent(accuracy = 0.1)(x)\n                       )\n                   }) |>\n  cols_label(\n    total = html(\"Simulated<br>occurrences\"),\n    made_finals = html(\"Times<br>qualified\")\n  ) |>\n  cols_label_with(columns = list_data,\n                  fn = function(label) {\n                    full_label <- glue::glue(\"Finals probability<br>{label}\")\n                    sprintf(\"<span>%s</span>\", full_label) |>\n                      html()\n    }) |>\n  tab_style(\n    style = cell_text(font = \"Myriad Pro\"),\n    locations = cells_body()\n  ) |>\n  tab_style(\n    style = cell_text(\n      font = \"Myriad Pro Condensed\",\n      weight = \"bold\"),\n    locations = cells_title(groups = \"title\")\n  ) |>\n  tab_style(style = cell_text(align = \"right\"),\n            locations = cells_source_notes()) |>\n  tab_options(heading.title.font.size = 36,\n              heading.subtitle.font.size = 18,\n              table.width = 700,\n              source_notes.font.size = 15)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"upgqoofrvl\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://fonts.googleapis.com/css2?family=Cairo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#upgqoofrvl table {\n  font-family: Cairo, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#upgqoofrvl thead, #upgqoofrvl tbody, #upgqoofrvl tfoot, #upgqoofrvl tr, #upgqoofrvl td, #upgqoofrvl th {\n  border-style: none;\n}\n\n#upgqoofrvl p {\n  margin: 0;\n  padding: 0;\n}\n\n#upgqoofrvl .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: 400;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: 700px;\n  border-top-style: none;\n  border-top-width: 3px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#upgqoofrvl .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#upgqoofrvl .gt_title {\n  color: #333333;\n  font-size: 36px;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#upgqoofrvl .gt_subtitle {\n  color: #333333;\n  font-size: 18px;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#upgqoofrvl .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#upgqoofrvl .gt_bottom_border {\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#upgqoofrvl .gt_col_headings {\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#upgqoofrvl .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#upgqoofrvl .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#upgqoofrvl .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#upgqoofrvl .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#upgqoofrvl .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#upgqoofrvl .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#upgqoofrvl .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#upgqoofrvl .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: none;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-bottom-color: #FFFFFF;\n  vertical-align: middle;\n}\n\n#upgqoofrvl .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#upgqoofrvl .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#upgqoofrvl .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#upgqoofrvl .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 0px;\n  border-right-color: #FFFFFF;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#upgqoofrvl .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#upgqoofrvl .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#upgqoofrvl .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#upgqoofrvl .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#upgqoofrvl .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#upgqoofrvl .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#upgqoofrvl .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#upgqoofrvl .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#upgqoofrvl .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#upgqoofrvl .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#upgqoofrvl .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#upgqoofrvl .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#upgqoofrvl .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#upgqoofrvl .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#upgqoofrvl .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#upgqoofrvl .gt_sourcenote {\n  font-size: 15px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#upgqoofrvl .gt_left {\n  text-align: left;\n}\n\n#upgqoofrvl .gt_center {\n  text-align: center;\n}\n\n#upgqoofrvl .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#upgqoofrvl .gt_font_normal {\n  font-weight: normal;\n}\n\n#upgqoofrvl .gt_font_bold {\n  font-weight: bold;\n}\n\n#upgqoofrvl .gt_font_italic {\n  font-style: italic;\n}\n\n#upgqoofrvl .gt_super {\n  font-size: 65%;\n}\n\n#upgqoofrvl .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#upgqoofrvl .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#upgqoofrvl .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#upgqoofrvl .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#upgqoofrvl .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#upgqoofrvl .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#upgqoofrvl .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#upgqoofrvl .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#upgqoofrvl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n\n#upgqoofrvl tbody tr:last-child {\n  border-bottom: 2px solid #ffffff00;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_title gt_font_normal\" style=\"font-family: 'Myriad Pro Condensed'; font-weight: bold;\">NRL teams need to win 13 games to be confident of playing finals</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style=\"font-family: Chivo; font-weight: 300;\">Finals probabilities based on results from 10,000 simulated seasons</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"a::stub\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"total\">Simulated<br>occurrences</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"made_finals\">Times<br>qualified</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"border-top-width: 0px; border-top-style: solid; border-top-color: black; font-family: Chivo; font-size: 14px; vertical-align: bottom; font-weight: 200; text-transform: uppercase;\" scope=\"col\" id=\"list_data\"><span>Finals probability<br><span style='color:#134A8E'><b>Qualify</b></span>||<span style='color:#E31937'><b>Fail to qualify</b></span></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_center gt_stub\">24 wins</th>\n<td headers=\"stub_1_1 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">232</td>\n<td headers=\"stub_1_1 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">232</td>\n<td headers=\"stub_1_1 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='198.43' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_center gt_stub\">23 wins</th>\n<td headers=\"stub_1_2 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">1,273</td>\n<td headers=\"stub_1_2 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">1,273</td>\n<td headers=\"stub_1_2 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='198.43' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_3\" scope=\"row\" class=\"gt_row gt_center gt_stub\">22 wins</th>\n<td headers=\"stub_1_3 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">3,045</td>\n<td headers=\"stub_1_3 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">3,045</td>\n<td headers=\"stub_1_3 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='198.43' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_4\" scope=\"row\" class=\"gt_row gt_center gt_stub\">21 wins</th>\n<td headers=\"stub_1_4 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">4,799</td>\n<td headers=\"stub_1_4 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">4,799</td>\n<td headers=\"stub_1_4 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='198.43' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_5\" scope=\"row\" class=\"gt_row gt_center gt_stub\">20 wins</th>\n<td headers=\"stub_1_5 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">5,830</td>\n<td headers=\"stub_1_5 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">5,830</td>\n<td headers=\"stub_1_5 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='198.43' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_6\" scope=\"row\" class=\"gt_row gt_center gt_stub\">19 wins</th>\n<td headers=\"stub_1_6 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">6,021</td>\n<td headers=\"stub_1_6 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">6,021</td>\n<td headers=\"stub_1_6 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='198.43' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_7\" scope=\"row\" class=\"gt_row gt_center gt_stub\">18 wins</th>\n<td headers=\"stub_1_7 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">6,586</td>\n<td headers=\"stub_1_7 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">6,586</td>\n<td headers=\"stub_1_7 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='198.43' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_8\" scope=\"row\" class=\"gt_row gt_center gt_stub\">17 wins</th>\n<td headers=\"stub_1_8 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">7,648</td>\n<td headers=\"stub_1_8 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">7,648</td>\n<td headers=\"stub_1_8 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='198.43' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_9\" scope=\"row\" class=\"gt_row gt_center gt_stub\">16 wins</th>\n<td headers=\"stub_1_9 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">8,810</td>\n<td headers=\"stub_1_9 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">8,810</td>\n<td headers=\"stub_1_9 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='198.43' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_10\" scope=\"row\" class=\"gt_row gt_center gt_stub\">15 wins</th>\n<td headers=\"stub_1_10 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">10,212</td>\n<td headers=\"stub_1_10 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">10,210</td>\n<td headers=\"stub_1_10 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='198.39' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='198.39' y='0.0000000000000018' width='0.039' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.19' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='28.48px' lengthAdjust='spacingAndGlyphs'>&gt;99.9%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_11\" scope=\"row\" class=\"gt_row gt_center gt_stub\">14 wins</th>\n<td headers=\"stub_1_11 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">10,508</td>\n<td headers=\"stub_1_11 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">10,345</td>\n<td headers=\"stub_1_11 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='195.35' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='195.35' y='0.0000000000000018' width='3.08' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='97.67' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='22.64px' lengthAdjust='spacingAndGlyphs'>98.4%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_12\" scope=\"row\" class=\"gt_row gt_center gt_stub\">13 wins</th>\n<td headers=\"stub_1_12 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">10,431</td>\n<td headers=\"stub_1_12 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">8,926</td>\n<td headers=\"stub_1_12 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='169.80' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='169.80' y='0.0000000000000018' width='28.63' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='84.90' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='22.64px' lengthAdjust='spacingAndGlyphs'>85.6%</text><text x='184.11' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='22.64px' lengthAdjust='spacingAndGlyphs'>14.4%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_13\" scope=\"row\" class=\"gt_row gt_center gt_stub\">12 wins</th>\n<td headers=\"stub_1_13 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">9,784</td>\n<td headers=\"stub_1_13 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">4,859</td>\n<td headers=\"stub_1_13 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='98.54' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='98.54' y='0.0000000000000018' width='99.88' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='49.27' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='22.64px' lengthAdjust='spacingAndGlyphs'>49.7%</text><text x='148.48' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='22.64px' lengthAdjust='spacingAndGlyphs'>50.3%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_14\" scope=\"row\" class=\"gt_row gt_center gt_stub\">11 wins</th>\n<td headers=\"stub_1_14 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">10,428</td>\n<td headers=\"stub_1_14 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">1,323</td>\n<td headers=\"stub_1_14 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='25.17' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='25.17' y='0.0000000000000018' width='173.25' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='12.59' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='22.64px' lengthAdjust='spacingAndGlyphs'>12.7%</text><text x='111.80' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='22.64px' lengthAdjust='spacingAndGlyphs'>87.3%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_15\" scope=\"row\" class=\"gt_row gt_center gt_stub\">10 wins</th>\n<td headers=\"stub_1_15 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">11,258</td>\n<td headers=\"stub_1_15 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">92</td>\n<td headers=\"stub_1_15 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='1.62' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='1.62' y='0.0000000000000018' width='196.80' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='100.02' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='22.64px' lengthAdjust='spacingAndGlyphs'>99.2%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_16\" scope=\"row\" class=\"gt_row gt_center gt_stub\">9 wins</th>\n<td headers=\"stub_1_16 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">12,996</td>\n<td headers=\"stub_1_16 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">1</td>\n<td headers=\"stub_1_16 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='0.015' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='0.015' y='0.0000000000000018' width='198.41' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.22' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='28.48px' lengthAdjust='spacingAndGlyphs'>&gt;99.9%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_17\" scope=\"row\" class=\"gt_row gt_center gt_stub\">8 wins</th>\n<td headers=\"stub_1_17 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">13,688</td>\n<td headers=\"stub_1_17 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">0</td>\n<td headers=\"stub_1_17 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_18\" scope=\"row\" class=\"gt_row gt_center gt_stub\">7 wins</th>\n<td headers=\"stub_1_18 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">13,003</td>\n<td headers=\"stub_1_18 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">0</td>\n<td headers=\"stub_1_18 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_19\" scope=\"row\" class=\"gt_row gt_center gt_stub\">6 wins</th>\n<td headers=\"stub_1_19 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">10,427</td>\n<td headers=\"stub_1_19 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">0</td>\n<td headers=\"stub_1_19 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_20\" scope=\"row\" class=\"gt_row gt_center gt_stub\">5 wins</th>\n<td headers=\"stub_1_20 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">7,014</td>\n<td headers=\"stub_1_20 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">0</td>\n<td headers=\"stub_1_20 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_21\" scope=\"row\" class=\"gt_row gt_center gt_stub\">4 wins</th>\n<td headers=\"stub_1_21 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">3,822</td>\n<td headers=\"stub_1_21 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">0</td>\n<td headers=\"stub_1_21 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_22\" scope=\"row\" class=\"gt_row gt_center gt_stub\">3 wins</th>\n<td headers=\"stub_1_22 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">1,593</td>\n<td headers=\"stub_1_22 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">0</td>\n<td headers=\"stub_1_22 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_23\" scope=\"row\" class=\"gt_row gt_center gt_stub\">2 wins</th>\n<td headers=\"stub_1_23 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">496</td>\n<td headers=\"stub_1_23 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">0</td>\n<td headers=\"stub_1_23 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_24\" scope=\"row\" class=\"gt_row gt_center gt_stub\">1 wins</th>\n<td headers=\"stub_1_24 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">90</td>\n<td headers=\"stub_1_24 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">0</td>\n<td headers=\"stub_1_24 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n    <tr><th id=\"stub_1_25\" scope=\"row\" class=\"gt_row gt_center gt_stub\">0 wins</th>\n<td headers=\"stub_1_25 total\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">6</td>\n<td headers=\"stub_1_25 made_finals\" class=\"gt_row gt_right\" style=\"font-family: 'Myriad Pro';\">0</td>\n<td headers=\"stub_1_25 list_data\" class=\"gt_row gt_center\" style=\"font-family: 'Myriad Pro';\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='svglite' width='198.43pt' height='14.17pt' viewBox='0 0 198.43 14.17'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw=='>    <rect x='0.00' y='0.00' width='198.43' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHwxOTguNDN8MC4wMHwxNC4xNw==)'><rect x='0.00' y='0.0000000000000018' width='0.00' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #134A8E;' /><rect x='0.00' y='0.0000000000000018' width='198.43' height='14.17' style='stroke-width: 1.07; stroke: #FFFFFF; stroke-linecap: butt; stroke-linejoin: miter; fill: #E31937;' /><text x='99.21' y='10.07' text-anchor='middle' style='font-size: 8.54px;fill: #FFFFFF; font-family: \"Segoe UI\";' textLength='20.79px' lengthAdjust='spacingAndGlyphs'>100%</text></g></svg></td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" style=\"text-align: right;\" colspan=\"4\"><span style='font-family:\"Font Awesome 6 Brands\";color: dodgerblue'>&#xf08c;</span> <span style='font-family: \"Segoe UI\";color: grey20'>Mitch Henderson</span>\n<span style='font-family:\"Font Awesome 6 Brands\";color: dodgerblue'>&#xe671;</span> <span style='font-family: \"Segoe UI\";color: grey20'>mitchhenderson</span>\n<span style='font-family:\"Font Awesome 6 Brands\";color: dodgerblue'>&#xf09b;</span> <span style='font-family: \"Segoe UI\";color: grey20'>mitchhenderson</span></td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\nWinning 16 or more games in a season was enough to make the finals in every one of the 10,000 simulations. Winning 8 or less wasn't enough to qualify in any. No real surprises there. In many of those cases it would be mathematically impossible for a different result. These simulations don't prove that though (maybe a team could qualify with 8 wins in circumstances that didn't occur in my 10,000 simulations), but the law of large numbers tells us these results are close enough to be correct for all practical purposes. To demonstrate, only one team made the finals with 9 wins (out of 12,996 teams that finished with 9 wins across the simulations). Finishing in the top 8 with only 9 wins is clearly mathematically possible, but it's so unlikely that it'll probably not happen in 10 lifetimes. So for all practical purposes, more wins are needed.\n\nThe big movements happen between 11 and 13 wins:\n\n-   With 11, it's unlikely but realistically possible\n\n-   With 12, it's a toss up\n\n-   With 13, it's likely\n\nThis basically aligns with what was observed in the sample of 10 seasons accounting for some sampling error. To demonstrate the mistake we would have been making by only using data from the 10 observed seasons, I've created an animation with the first 1,000 simulated seasons to show the law of large numbers at work.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrunning_mean <- function(x) {\n  cumsum(x) / seq_along(x)\n}\n\nprobs_animated_plot <- simulation_summary_results |>\n  filter(total_wins %in% c(10:15),\n         season <= 1000) |>\n  mutate(total_wins = factor(\n    total_wins,\n    levels = sort(unique(total_wins),\n                  decreasing = TRUE)),\n    facets = glue::glue(\"{total_wins} win season\")) |>\n  mutate(probs_made_finals = running_mean(made_finals),\n         label = glue::glue(\"Estimated finals<br>probability: {scales::percent(probs_made_finals, accuracy = 0.1)}\"),\n         .by = total_wins) |>\n  ggplot(aes(x = season, y = probs_made_finals)) +\n  geom_hline(yintercept = 0, colour = \"grey30\", linewidth = 1) +\n  geom_line(colour = colours[1], linewidth = 1) +\n  geom_richtext(\n    aes(label = label),\n    family = \"Myriad Pro Regular\",\n    x = 1000, y = 0.2,\n    hjust = 1, vjust = 0,\n    fill = NA, label.color = NA,\n    size = 5.5, color = \"grey60\"\n  ) +\n  scale_y_continuous(breaks = seq(0, 1, by = 0.2),\n                     limits = c(0, 1),\n                     labels = scales::percent_format()\n                     ) +\n  facet_wrap(~facets, nrow = 2) +\n  labs(x = \"Simulated season number\",\n       y = \"Probability of finals\",\n       caption = socials) +\n  theme(strip.text = element_text(size = 22,\n                                  hjust = 0,\n                                  family = \"Myriad Pro Regular\"),\n        text = element_text(size = 18, family = \"Myriad Pro Regular\"),\n        plot.caption = element_markdown(size = 16),\n        panel.grid.major.x = element_blank(),\n        panel.spacing = unit(2, \"lines\")) +\n  transition_reveal(season)\n\nanimate(probs_animated_plot,\n        nframes = 100,\n        height = 8.6,\n        width = 12,\n        fps = 10,\n        device = \"ragg_png\",\n        end_pause = 20)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-16-1.gif)\n:::\n:::\n\n\n\nIf you've taken statistics classes at uni you'll probably have come across a similar idea to this with coin flips or finding pi. Basically, the average of a small group of numbers varies a lot, but stabilises as the sample gets larger. This is why we generally don't want to infer things about a population based only on a small sample, we might just be interpreting the early variation before the stable number (that converges on the true value) is found. The finals probability for each win count in the animation doesn't really become stable until around 250 seasons. Making inferences after only 10 seasons (like using the data we had) would have given us an unreliable estimate.\n\nIn summary, Monte Carlo simulations offer a practical way to estimate things (like finals probabilities in the NRL) when the calculations become mathematically complex or the sample of available data is relatively small.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}